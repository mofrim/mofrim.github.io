<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="index, follow" name=robots><link href=https://digitalcourage.social/@mofrim rel=me><link href=https://mofrim.codeberg.page/rss.xml rel=alternate title=RSS type=application/rss+xml><title> | The Hyprland switch-focus-or-create-ws-script</title><link as=style href=https://mofrim.codeberg.page/css/style.css rel=preload><link crossorigin href=https://raw.githack.com/Speyll/suCSS/main/reset-min.css rel=stylesheet><link crossorigin href=https://raw.githack.com/Speyll/suCSS/main/suCSS-min.css rel=stylesheet><link href=https://mofrim.codeberg.page/css/style.css rel=stylesheet><link href=https://mofrim.codeberg.page/css/custom.css rel=stylesheet><link href=https://mofrim.codeberg.page/favicon.ico rel=icon><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y rel=stylesheet><script crossorigin defer integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js></script><script crossorigin defer integrity=sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js></script><script crossorigin defer integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe onload=renderMathInElement(document.body); src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js></script><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y rel=stylesheet><body><nav id=nav-bar>-- <a href=/> /home </a> -- <a href=/about> /about </a> -- <a href=/journal> /journal </a> -- <a href=/blog> /blog </a> -- <div aria-label="Toggle theme" class=theme-toggle data-icon-base=https://mofrim.codeberg.page/icons.svg data-icon-dark=#darkMode data-icon-light=#lightMode data-sound-src=https://mofrim.codeberg.page/click.ogg id=theme-toggle role=button tabindex=0><svg class=icon><use id=theme-icon></use></svg></div></nav><main><article class=post><header class=post-header><time datetime=2025-09-29>Published on: <span class=accent-data>2025-09-29</span> </time><address rel=author>By <span class=accent-data>mofrim</span></address><h1>The Hyprland switch-focus-or-create-ws-script</h1></header><div class=post-content><p>Already some time ago i hacked together this script for windows/workspace-switching in my current <em>hyprland</em> setup. I have bound this to the <code>$mainMod + h/l</code> . Why? I have one quite small laptop with a 12“ display and when working on it i felt like i wanted to have almost every window being as large as possible. So i ended up putting every new window on a seperate workspace (a bit like scrolling window-managers like <em>niri</em> would do). With this script, in situations where there is no more window to the right on my current ws, a new ws is created. If there are still windows to the right of the currently focused windows the focus is switched as usual. This makes switching to new workspaces much easier.<p>Maybe someone else can find this useful. Of course i searched for something similar, but i couldn’t find anything. So, here it is:<pre class=language-sh data-lang=sh style=color:#f8f8f2;background-color:#282a36><code class=language-sh data-lang=sh><span style=color:#6272a4>#!/usr/bin/env bash
</span><span>
</span><span style=color:#6272a4># This is my switch-focus-or-create-ws-script. If there is no more window left
</span><span style=color:#6272a4># or right of the current one will switch to the next workspace. So far, at
</span><span style=color:#6272a4># least, when moving to the right, this leads to creation of new workspaces.
</span><span>
</span><span style=color:#fff>out</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"$(</span><span style=color:#50fa7b>hyprctl</span><span style=color:#f1fa8c> dispatch movefocus $</span><span style=color:#fff>1</span><span style=color:#f1fa8c>)"
</span><span style=color:#fff>winno_on_cur_ws</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"$(</span><span style=color:#50fa7b>hyprctl</span><span style=color:#f1fa8c> workspaces</span><span style=color:#ffb86c;font-style:italic> -j </span><span style=color:#ff79c6>| </span><span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c>	</span><span style=color:#50fa7b>jq </span><span style=color:#f1fa8c>'.[] | select(.id == '$(</span><span style=color:#50fa7b>hyprctl</span><span style=color:#f1fa8c> activeworkspace</span><span style=color:#ffb86c;font-style:italic> -j </span><span style=color:#ff79c6>| </span><span style=color:#50fa7b>jq </span><span style=color:#f1fa8c>'.id')')' </span><span style=color:#ff79c6>| </span><span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c>	</span><span style=color:#50fa7b>jq </span><span style=color:#f1fa8c>'.windows')"
</span><span>
</span><span style=color:#6272a4># `hyprctl dispatch movefocus r` prints "Nothing to focus to in direction r"
</span><span style=color:#6272a4># when rightmost window is already reached. But we only want to switch to next
</span><span style=color:#6272a4># ws if we have reached that rightmost win => `grep Nothing` must be empty. When
</span><span style=color:#6272a4># reaching any fullscreened ws while cycling this leads to being "trapped"
</span><span style=color:#6272a4># there, as trying to switch will only loop through all windows on that ws. This
</span><span style=color:#6272a4># is desired behavior in my case.
</span><span>
</span><span style=color:#ff79c6>if </span><span style=color:#8be9fd>[ </span><span style=color:#ffb86c;font-style:italic>-z </span><span style=color:#f1fa8c>"$(</span><span style=color:#8be9fd>echo </span><span style=color:#f1fa8c>$</span><span style=color:#fff>out </span><span style=color:#ff79c6>| </span><span style=color:#50fa7b>grep </span><span style=color:#f1fa8c>"Nothing")" </span><span style=color:#8be9fd>] </span><span style=color:#ff79c6>&& </span><span style=color:#8be9fd>[ </span><span>$</span><span style=color:#fff>winno_on_cur_ws </span><span style=color:#ffb86c;font-style:italic>-ne</span><span> 0 </span><span style=color:#8be9fd>]</span><span style=color:#ff79c6>; then
</span><span>	</span><span style=color:#8be9fd>exit
</span><span style=color:#ff79c6>elif </span><span style=color:#8be9fd>[ </span><span style=color:#f1fa8c>"$</span><span style=color:#fff>1</span><span style=color:#f1fa8c>" </span><span style=color:#ff79c6>== </span><span style=color:#f1fa8c>"l" </span><span style=color:#8be9fd>]</span><span style=color:#ff79c6>; then
</span><span>	</span><span style=color:#50fa7b>hyprctl</span><span> dispatch workspace</span><span style=color:#ffb86c;font-style:italic> -1
</span><span style=color:#ff79c6>elif </span><span style=color:#8be9fd>[ </span><span style=color:#f1fa8c>"$</span><span style=color:#fff>1</span><span style=color:#f1fa8c>" </span><span style=color:#ff79c6>== </span><span style=color:#f1fa8c>"r" </span><span style=color:#8be9fd>]</span><span style=color:#ff79c6>; then
</span><span>	</span><span style=color:#50fa7b>hyprctl</span><span> dispatch workspace +1
</span><span style=color:#ff79c6>fi
</span><span>
</span></code></pre><p>copy the script to <code>~/.config/hypr/scripts/switch_win_ws.sh</code> & add the following binding to your <code>hyprland.conf</code>:<pre class=language-conf data-lang=conf style=color:#f8f8f2;background-color:#282a36><code class=language-conf data-lang=conf><span style=color:#ffb86c;font-style:italic>bind </span><span style=color:#ff79c6>= $mainMod,</span><span> h</span><span style=color:#ff79c6>,</span><span> exec</span><span style=color:#ff79c6>, ~/.</span><span>config</span><span style=color:#ff79c6>/</span><span>hypr</span><span style=color:#ff79c6>/</span><span>scripts</span><span style=color:#ff79c6>/</span><span>switch_win_ws</span><span style=color:#ff79c6>.</span><span>sh l
</span><span style=color:#ffb86c;font-style:italic>bind </span><span style=color:#ff79c6>= $mainMod,</span><span> l</span><span style=color:#ff79c6>,</span><span> exec</span><span style=color:#ff79c6>, ~/.</span><span>config</span><span style=color:#ff79c6>/</span><span>hypr</span><span style=color:#ff79c6>/</span><span>scripts</span><span style=color:#ff79c6>/</span><span>switch_win_ws</span><span style=color:#ff79c6>.</span><span>sh r
</span></code></pre></div><footer class=post-tags><small>tags: <a class=mytag href=/tags/code>@code </a> <a class=mytag href=/tags/cfg>@cfg </a> </small></footer></article></main><footer><hr><div id=footer-container><p style=font-size:10px>--( btw, this site was made using a modified version of <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> Zola theme )--</div></footer><script defer src=https://mofrim.codeberg.page/js/script.js></script>